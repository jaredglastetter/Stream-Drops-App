import{p as q,i as K,c as d,r as A,a as N,b as B,g as le,o as se,d as ue,f as Ve,e as Ie,h as Be,j as we,k as ke,l as R,m as a,n as ie,t as Q,q as re,s as Te,u as Ce,v as Ae,w as $e,x as ce,y as Le,z as Re,A as Pe,B as de,C as L,D,E as g,F as C,G as ze,H as He,I as Ee,J as Me,S as Ne}from"./index.8c8c234d.js";import{m as ee,u as P}from"./tag.090dc54c.js";import{m as De,a as Oe,b as je,u as Fe,c as Ue,d as qe,V as G,e as W}from"./router.e67466bf.js";import{V as Y}from"./VBtn.a0f54b8b.js";import{V as ve,c as Ke,a as Ze}from"./VAvatar.2acf52c7.js";import{V as Je}from"./index.39c94411.js";import{u as Xe}from"./size.1dc468f7.js";import{u as Ge}from"./VProgressCircular.b66cd299.js";import"./position.c64b479c.js";import"./intersectionObserver.5c113ba0.js";import"./transition.59fca88b.js";const U=Symbol.for("vuetify:layout"),me=Symbol.for("vuetify:layout-item"),ne=1e3,We=q({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ye=q({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Qe(){const e=K(U);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function et(e){var v;const o=K(U);if(!o)throw new Error("[Vuetify] Could not find injected layout");const t=(v=e.id)!=null?v:`layout-item-${Ie()}`,l=le("useLayoutItem");ue(me,{id:t});const n=A(!1);Be(()=>n.value=!0),we(()=>n.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:i}=o.register(l,{...e,active:d(()=>n.value?!1:e.active.value),id:t});return ke(()=>o.unregister(t)),{layoutItemStyles:s,layoutRect:o.layoutRect,layoutItemScrimStyles:i}}const tt=(e,o,t,l)=>{let n={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...n}}];for(const i of e){const v=o.get(i),m=t.get(i),p=l.get(i);if(!v||!m||!p)continue;const f={...n,[v.value]:parseInt(n[v.value],10)+(p.value?parseInt(m.value,10):0)};s.push({id:i,layer:f}),n=f}return s};function at(e){const o=K(U,null),t=d(()=>o?o.rootZIndex.value-100:ne),l=A([]),n=N(new Map),s=N(new Map),i=N(new Map),v=N(new Map),m=N(new Map),{resizeRef:p,contentRect:f}=Ge(),S=d(()=>{var u;const r=new Map,y=(u=e.overlaps)!=null?u:[];for(const x of y.filter(c=>c.includes(":"))){const[c,h]=x.split(":");if(!l.value.includes(c)||!l.value.includes(h))continue;const T=n.get(c),H=n.get(h),E=s.get(c),j=s.get(h);!T||!H||!E||!j||(r.set(h,{position:T.value,amount:parseInt(E.value,10)}),r.set(c,{position:H.value,amount:-parseInt(j.value,10)}))}return r}),b=d(()=>{const r=[...new Set([...i.values()].map(u=>u.value))].sort((u,x)=>u-x),y=[];for(const u of r){const x=l.value.filter(c=>{var h;return((h=i.get(c))==null?void 0:h.value)===u});y.push(...x)}return tt(y,n,s,v)}),w=d(()=>!Array.from(m.values()).some(r=>r.value)),k=d(()=>b.value[b.value.length-1].layer),O=d(()=>({"--v-layout-left":B(k.value.left),"--v-layout-right":B(k.value.right),"--v-layout-top":B(k.value.top),"--v-layout-bottom":B(k.value.bottom),...w.value?void 0:{transition:"none"}})),V=d(()=>b.value.slice(1).map((r,y)=>{let{id:u}=r;const{layer:x}=b.value[y],c=s.get(u),h=n.get(u);return{id:u,...x,size:Number(c.value),position:h.value}})),I=r=>V.value.find(y=>y.id===r),$=le("createLayout"),z=A(!1);se(()=>{z.value=!0}),ue(U,{register:(r,y)=>{let{id:u,order:x,position:c,layoutSize:h,elementSize:T,active:H,disableTransitions:E,absolute:j}=y;i.set(u,x),n.set(u,c),s.set(u,h),v.set(u,H),E&&m.set(u,E);const te=Ve(me,$==null?void 0:$.vnode).indexOf(r);te>-1?l.value.splice(te,0,u):l.value.push(u);const ae=d(()=>V.value.findIndex(M=>M.id===u)),Z=d(()=>t.value+b.value.length*2-ae.value*2),_e=d(()=>{const M=c.value==="left"||c.value==="right",J=c.value==="right",Se=c.value==="bottom",oe={[c.value]:0,zIndex:Z.value,transform:`translate${M?"X":"Y"}(${(H.value?0:-110)*(J||Se?-1:1)}%)`,position:j.value||t.value!==ne?"absolute":"fixed",...w.value?void 0:{transition:"none"}};if(!z.value)return oe;const _=V.value[ae.value];if(!_)throw new Error(`[Vuetify] Could not find layout item "${u}"`);const X=S.value.get(u);return X&&(_[X.position]+=X.amount),{...oe,height:M?`calc(100% - ${_.top}px - ${_.bottom}px)`:T.value?`${T.value}px`:void 0,left:J?void 0:`${_.left}px`,right:J?`${_.right}px`:void 0,top:c.value!=="bottom"?`${_.top}px`:void 0,bottom:c.value!=="top"?`${_.bottom}px`:void 0,width:M?T.value?`${T.value}px`:void 0:`calc(100% - ${_.left}px - ${_.right}px)`}}),xe=d(()=>({zIndex:Z.value-1}));return{layoutItemStyles:_e,layoutItemScrimStyles:xe,zIndex:Z}},unregister:r=>{i.delete(r),n.delete(r),s.delete(r),v.delete(r),m.delete(r),l.value=l.value.filter(y=>y!==r)},mainRect:k,mainStyles:O,getLayoutItem:I,items:V,layoutRect:f,rootZIndex:t});const be=d(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),he=d(()=>({zIndex:t.value,position:o?"relative":void 0,overflow:o?"hidden":void 0}));return{layoutClasses:be,layoutStyles:he,getLayoutItem:I,items:V,layoutRect:f,layoutRef:p}}const fe=q({text:String,...ee()},"v-toolbar-title"),pe=R()({name:"VToolbarTitle",props:fe(),setup(e,o){let{slots:t}=o;return P(()=>{const l=!!(t.default||t.text||e.text);return a(e.tag,{class:"v-toolbar-title"},{default:()=>{var n;return[l&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(n=t.default)==null?void 0:n.call(t)])]}})}),{}}}),ot=[null,"prominent","default","comfortable","compact"],ye=q({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>ot.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...De(),...Oe(),...je(),...ee({tag:"header"}),...ie()},"v-toolbar"),F=R()({name:"VToolbar",props:ye(),setup(e,o){var b;let{slots:t}=o;const{backgroundColorClasses:l,backgroundColorStyles:n}=Xe(Q(e,"color")),{borderClasses:s}=Fe(e),{elevationClasses:i}=Ue(e),{roundedClasses:v}=qe(e),{themeClasses:m}=re(e),p=A(!!(e.extended||((b=t.extension)==null?void 0:b.call(t)))),f=d(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),S=d(()=>p.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Te({VBtn:{variant:"text"}}),P(()=>{var V;const w=!!(e.title||t.title),k=!!(t.image||e.image),O=(V=t.extension)==null?void 0:V.call(t);return p.value=!!(e.extended||O),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},l.value,s.value,i.value,v.value,m.value],style:[n.value]},{default:()=>[k&&a("div",{key:"image",class:"v-toolbar__image"},[a(G,{defaults:{VImg:{cover:!0,src:e.image}}},{default:()=>{var I;return[t.image?(I=t.image)==null?void 0:I.call(t):a(ve,null,null)]}})]),a(G,{defaults:{VTabs:{height:B(f.value)}}},{default:()=>{var I,$,z;return[a("div",{class:"v-toolbar__content",style:{height:B(f.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(I=t.prepend)==null?void 0:I.call(t)]),w&&a(pe,{key:"title",text:e.title},{text:t.title}),($=t.default)==null?void 0:$.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(z=t.append)==null?void 0:z.call(t)])])]}}),a(G,{defaults:{VTabs:{height:B(S.value)}}},{default:()=>[a(Je,null,{default:()=>[p.value&&a("div",{class:"v-toolbar__extension",style:{height:B(S.value)}},[O])]})]})]})}),{contentHeight:f,extensionHeight:S}}});function nt(e){var o;return Ce(e,Object.keys((o=F==null?void 0:F.props)!=null?o:{}))}function ge(){const e=A(!1);return se(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:d(()=>e.value?void 0:{transition:"none !important"}),isBooted:Ae(e)}}const lt=R()({name:"VAppBar",props:{modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ye(),...Ye(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const l=A(),n=$e(e,"modelValue"),s=d(()=>{var f,S,b,w;const m=(S=(f=l.value)==null?void 0:f.contentHeight)!=null?S:0,p=(w=(b=l.value)==null?void 0:b.extensionHeight)!=null?w:0;return m+p}),{ssrBootStyles:i}=ge(),{layoutItemStyles:v}=et({id:e.name,order:d(()=>parseInt(e.order,10)),position:Q(e,"location"),layoutSize:s,elementSize:s,active:n,absolute:Q(e,"absolute")});return P(()=>{const[m]=nt(e);return a(F,ce({ref:l,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"}],style:{...v.value,height:void 0,...i.value}},m),t)}),{}}}),st=R()({name:"VAppBarTitle",props:fe(),setup(e,o){let{slots:t}=o;return P(()=>a(pe,ce(e,{class:"v-app-bar-title"}),t)),{}}}),ut=Ke("flex-grow-1","div","VSpacer"),it={__name:"AppBar",async setup(e){let o,t;const l=Le();K("axios");const n=Re(),s=A(null);[o,t]=Pe(()=>n.syncUser()),await o,t(),n.isAuthenticated&&(s.value=n.user);function i(){n.logout(),l.push({name:"Login"})}return(v,m)=>{const p=de("router-link");return L(),D(lt,{flat:""},{default:g(()=>[a(p,{to:"/"},{default:g(()=>[a(st,null,{default:g(()=>[a(W,{icon:"mdi-circle-slice-6"}),C(" Stream Drops ")]),_:1})]),_:1}),a(Y,{to:"/users",class:"ml-3"},{default:g(()=>[C("Explore")]),_:1}),a(ut),s.value?(L(),ze(He,{key:0},[a(Ze,{class:"mr-3"},{default:g(()=>[a(ve,{src:s.value.profileImageUrl,alt:"John"},null,8,["src"])]),_:1}),C(" "+Ee(s.value.username)+" ",1),a(Y,{onClick:i},{default:g(()=>[a(W,null,{default:g(()=>[C("mdi-logout")]),_:1}),C(" logout ")]),_:1})],64)):(L(),D(Y,{key:1,to:{name:"Login"}},{default:g(()=>[a(W,null,{default:g(()=>[C("mdi-login")]),_:1}),C(" Login ")]),_:1}))]),_:1})}}};const rt=R()({name:"VMain",props:{scrollable:Boolean,...ee({tag:"main"})},setup(e,o){let{slots:t}=o;const{mainStyles:l}=Qe(),{ssrBootStyles:n}=ge();return P(()=>a(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable}],style:[l.value,n.value]},{default:()=>{var s,i;return[e.scrollable?a("div",{class:"v-main__scroller"},[(s=t.default)==null?void 0:s.call(t)]):(i=t.default)==null?void 0:i.call(t)]}})),{}}}),ct={__name:"View",setup(e){return(o,t)=>{const l=de("router-view");return L(),D(rt,null,{default:g(()=>[a(l)]),_:1})}}};const dt=R()({name:"VApp",props:{...We({fullHeight:!0}),...ie()},setup(e,o){let{slots:t}=o;const l=re(e),{layoutClasses:n,layoutStyles:s,getLayoutItem:i,items:v,layoutRef:m}=at(e),{rtlClasses:p}=Me();return P(()=>{var f;return a("div",{ref:m,class:["v-application",l.themeClasses.value,n.value,p.value],style:s.value},[a("div",{class:"v-application__wrap"},[(f=t.default)==null?void 0:f.call(t)])])}),{getLayoutItem:i,items:v,theme:l}}}),It={__name:"Default",setup(e){return(o,t)=>(L(),D(dt,null,{default:g(()=>[(L(),D(Ne,null,{default:g(()=>[a(it)]),_:1})),a(ct)]),_:1}))}};export{It as default};
