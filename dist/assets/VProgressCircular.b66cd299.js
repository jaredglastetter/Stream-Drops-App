import{m as p,b as I,c as h}from"./size.1dc468f7.js";import{m as P,u as T}from"./tag.090dc54c.js";import{r as v,ab as M,k as O,W as V,v as E,l as B,n as U,q as $,t as C,c as o,b as A,ac as W,m as l}from"./index.8c8c234d.js";import{u as D}from"./intersectionObserver.5c113ba0.js";function F(e){const n=v(),s=v();if(M){const r=new ResizeObserver(t=>{e==null||e(t,r),t.length&&(s.value=t[0].contentRect)});O(()=>{r.disconnect()}),V(n,(t,a)=>{a&&(r.unobserve(a),s.value=void 0),t&&r.observe(t)},{flush:"post"})}return{resizeRef:n,contentRect:E(s)}}const J=B()({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...p(),...P({tag:"div"}),...U()},setup(e,n){let{slots:s}=n;const r=20,t=2*Math.PI*r,a=v(),{themeClasses:y}=$(e),{sizeClasses:b,sizeStyles:d}=I(e),{textColorClasses:R,textColorStyles:S}=h(C(e,"color")),{textColorClasses:w,textColorStyles:x}=h(C(e,"bgColor")),{intersectionRef:z,isIntersecting:N}=D(),{resizeRef:k,contentRect:m}=F(),u=o(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),i=o(()=>Number(e.width)),f=o(()=>d.value?Number(e.size):m.value?m.value.width:Math.max(i.value,32)),c=o(()=>r/(1-i.value/f.value)*2),g=o(()=>i.value/f.value*c.value),_=o(()=>A((100-u.value)/100*t));return W(()=>{z.value=a.value,k.value=a.value}),T(()=>l(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":N.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},y.value,b.value,R.value],style:[d.value,S.value],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:u.value},{default:()=>[l("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${c.value} ${c.value}`},[l("circle",{class:["v-progress-circular__underlay",w.value],style:x.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":g.value,"stroke-dasharray":t,"stroke-dashoffset":0},null),l("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":g.value,"stroke-dasharray":t,"stroke-dashoffset":_.value},null)]),s.default&&l("div",{class:"v-progress-circular__content"},[s.default({value:u.value})])]})),{}}});export{J as V,F as u};
