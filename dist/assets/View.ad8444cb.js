import{l as w,n as K,q as J,t as g,c as x,b as U,m as s,ai as oe,p as M,O as A,$ as ue,a6 as de,u as Q,x as W,s as ce,r as D,as as L,z as ve,aj as fe,i as me,A as H,C as R,D as q,E as _,N as S,af as X,I as pe,G as ge,ag as he,H as ye}from"./index.8c8c234d.js";import{V as be}from"./VContainer.49234544.js";import{V as N,a as z}from"./VRow.a59411ba.js";import{V as Ce}from"./VAvatar.2acf52c7.js";import{u as Ve,a as _e,b as xe,c as Y,V as F,m as ke,d as Se}from"./VListItem.562c7595.js";import{V as Ie}from"./index.39c94411.js";import{u as T,m as E}from"./tag.090dc54c.js";import{V as Pe,m as Le,f as we,i as Be,a as Ae,b as De,g as Fe,u as Te,h as Ge,l as Re,c as Ne,d as Ee}from"./router.e67466bf.js";import{c as Z,u as $e}from"./size.1dc468f7.js";import"./transition.59fca88b.js";const Oe=w()({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...K()},setup(e,a){let{attrs:t}=a;const{themeClasses:n}=J(e),{textColorClasses:v,textColorStyles:d}=Z(g(e,"color")),i=x(()=>{const l={};return e.length&&(l[e.vertical?"maxHeight":"maxWidth"]=U(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=U(e.thickness)),l});return T(()=>s("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},n.value,v.value],style:[i.value,d.value],"aria-orientation":!t.role||t.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${t.role||"separator"}`},null)),{}}}),je=oe({name:"VListGroupActivator",setup(e,a){let{slots:t}=a;return Ve(),()=>{var n;return(n=t.default)==null?void 0:n.call(t)}}}),Ue=M({activeColor:String,color:String,collapseIcon:{type:A,default:"$collapse"},expandIcon:{type:A,default:"$expand"},prependIcon:A,appendIcon:A,fluid:Boolean,subgroup:Boolean,value:null,...E()},"v-list-group"),ee=w()({name:"VListGroup",props:{title:String,...Ue()},setup(e,a){let{slots:t}=a;const{isOpen:n,open:v,id:d}=_e(g(e,"value"),!0),i=x(()=>`v-list-group--id-${String(d.value)}`),l=xe();function o(p){v(!n.value,p)}const y=x(()=>({onClick:o,class:"v-list-group__header",id:i.value})),m=x(()=>n.value?e.collapseIcon:e.expandIcon);return T(()=>s(e.tag,{class:["v-list-group",{"v-list-group--prepend":l==null?void 0:l.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":n.value}]},{default:()=>[t.activator&&s(Pe,{defaults:{VListItem:{active:n.value,activeColor:e.activeColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&m.value,appendIcon:e.appendIcon||!e.subgroup&&m.value,title:e.title,value:e.value}}},{default:()=>[s(je,null,{default:()=>[t.activator({props:y.value,isOpen:n.value})]})]}),s(Ie,null,{default:()=>{var p;return[ue(s("div",{class:"v-list-group__items",role:"group","aria-labelledby":i.value},[(p=t.default)==null?void 0:p.call(t)]),[[de,n.value]])]}})]})),{}}});function We(e){return Q(e,Object.keys(ee.props))}const He=w()({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...E()},setup(e,a){let{slots:t}=a;const{textColorClasses:n,textColorStyles:v}=Z(g(e,"color"));return T(()=>{const d=!!(t.default||e.title);return s(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},n.value],style:{textColorStyles:v}},{default:()=>{var i,l;return[d&&s("div",{class:"v-list-subheader__text"},[(l=(i=t.default)==null?void 0:i.call(t))!=null?l:e.title])]}})}),{}}}),te=w()({name:"VListChildren",props:{items:Array},setup(e,a){let{slots:t}=a;return Y(),()=>{var n,v,d;return(d=(n=t.default)==null?void 0:n.call(t))!=null?d:(v=e.items)==null?void 0:v.map(i=>{var f,I,P,k;let{children:l,props:o,type:y,raw:m}=i;if(y==="divider")return(I=(f=t.divider)==null?void 0:f.call(t,{props:o}))!=null?I:s(Oe,o,null);if(y==="subheader")return(k=(P=t.subheader)==null?void 0:P.call(t,{props:o}))!=null?k:s(He,o,{default:t.subheader});const p={subtitle:t.subtitle?u=>{var r;return(r=t.subtitle)==null?void 0:r.call(t,{...u,item:m})}:void 0,prepend:t.prepend?u=>{var r;return(r=t.prepend)==null?void 0:r.call(t,{...u,item:m})}:void 0,append:t.append?u=>{var r;return(r=t.append)==null?void 0:r.call(t,{...u,item:m})}:void 0,default:t.default?u=>{var r;return(r=t.default)==null?void 0:r.call(t,{...u,item:m})}:void 0,title:t.title?u=>{var r;return(r=t.title)==null?void 0:r.call(t,{...u,item:m})}:void 0},[b,G]=We(o);return l?s(ee,W({value:o==null?void 0:o.value},b),{activator:u=>{let{props:r}=u;return t.header?t.header({props:{...o,...r}}):s(F,W(o,r),p)},default:()=>s(te,{items:l},t)}):t.item?t.item(o):s(F,o,p)})}}}),qe=M({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function ze(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function Ke(e,a){const t=L(a,e.itemType,"item"),n=ze(a)?a:L(a,e.itemTitle),v=L(a,e.itemValue,void 0),d=L(a,e.itemChildren),i=e.itemProps===!0?Q(a,["children"])[1]:L(a,e.itemProps),l={title:n,value:v,...i};return{type:t,title:l.title,value:l.value,props:l,children:t==="item"&&d?ae(e,d):void 0,raw:a}}function ae(e,a){const t=[];for(const n of a)t.push(Ke(e,n));return t}function Je(e){return{items:x(()=>ae(e,e.items))}}const Me=w()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...ke({selectStrategy:"single-leaf",openStrategy:"list"}),...Le(),...we(),...Be(),...Ae(),itemType:{type:String,default:"type"},...qe(),...De(),...E(),...K(),...Fe({variant:"text"})},emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,a){let{slots:t}=a;const{items:n}=Je(e),{themeClasses:v}=J(e),{backgroundColorClasses:d,backgroundColorStyles:i}=$e(g(e,"bgColor")),{borderClasses:l}=Te(e),{densityClasses:o}=Ge(e),{dimensionStyles:y}=Re(e),{elevationClasses:m}=Ne(e),{roundedClasses:p}=Ee(e),{open:b,select:G}=Se(e),f=x(()=>e.lines?`v-list--${e.lines}-line`:void 0),I=g(e,"activeColor"),P=g(e,"color");Y(),ce({VListGroup:{activeColor:I,color:P},VListItem:{activeClass:g(e,"activeClass"),activeColor:I,color:P,density:g(e,"density"),disabled:g(e,"disabled"),lines:g(e,"lines"),nav:g(e,"nav"),variant:g(e,"variant")}});const k=D(!1),u=D();function r(c){k.value=!0}function ne(c){k.value=!1}function se(c){var h;!k.value&&!(c.relatedTarget&&((h=u.value)==null?void 0:h.contains(c.relatedTarget)))&&C()}function ie(c){if(!!u.value){if(c.key==="ArrowDown")C("next");else if(c.key==="ArrowUp")C("prev");else if(c.key==="Home")C("first");else if(c.key==="End")C("last");else return;c.preventDefault()}}function C(c){var $,O,j;if(!u.value)return;const h=[...u.value.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(V=>!V.hasAttribute("disabled")),le=h.indexOf(document.activeElement);if(!c)u.value.contains(document.activeElement)||($=h[0])==null||$.focus();else if(c==="first")(O=h[0])==null||O.focus();else if(c==="last")(j=h.at(-1))==null||j.focus();else{let V,B=le;const re=c==="next"?1:-1;do B+=re,V=h[B];while((!V||V.offsetParent==null)&&B<h.length&&B>=0);V?V.focus():C(c==="next"?"first":"last")}}return T(()=>s(e.tag,{ref:u,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav},v.value,d.value,l.value,o.value,m.value,f.value,p.value],style:[i.value,y.value],role:"listbox","aria-activedescendant":void 0,onFocusin:r,onFocusout:ne,onFocus:se,onKeydown:ie},{default:()=>[s(te,{items:n.value},t)]})),{open:b,select:G,focus:C}}}),Qe={class:"text-h4"},Xe=X("div",{class:"text-h5 mb-3"},"Redemptions",-1),ot={__name:"View",async setup(e){var p;let a,t;const n=ve(),v=fe(),d=me("axios");let i=D(null),l=D(null);const o=(p=v.params)==null?void 0:p.id;console.log("route params: ",v.params);let y=([a,t]=H(()=>d.get("/api/rewards/"+o)),a=await a,t(),a);i.value=y.data;let m=([a,t]=H(()=>d.get("/api/redemptions/reward/"+i.value._id)),a=await a,t(),a);return l.value=m.data,x(()=>{var b;if(i)return i.image||((b=i.defaultImage)==null?void 0:b.url_4x)}),(b,G)=>(R(),q(be,null,{default:_(()=>[s(z,null,{default:_(()=>[s(N,{cols:"12",md:"4"},{default:_(()=>{var f;return[s(Ce,{class:"rounded-lg",src:S(i).image||((f=S(i).defaultImage)==null?void 0:f.url_4x)},null,8,["src"])]}),_:1}),s(N,{cols:"12",md:"8"},{default:_(()=>[X("div",Qe,pe(S(i).title),1),s(F,{title:S(n).user.username,"prepend-avatar":S(n).user.profileImageUrl},null,8,["title","prepend-avatar"])]),_:1})]),_:1}),s(z,null,{default:_(()=>[s(N,{cols:"12"},{default:_(()=>[Xe,s(Me,null,{default:_(()=>[(R(!0),ge(ye,null,he(S(l),f=>(R(),q(F,{key:f.id,title:f.user.username,subtitle:f.redeemedAt,"prepend-avatar":f.user.profileImageUrl,to:{name:"Redemption",params:{id:f._id}}},null,8,["title","subtitle","prepend-avatar","to"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ot as default};
